syntax = "proto3";
package hyperlane.warp.v1;

option go_package = "github.com/bcp-innovations/hyperlane-cosmos/x/warp/types";

import "cosmos/msg/v1/msg.proto";
import "gogoproto/gogo.proto";
import "amino/amino.proto";
import "hyperlane/warp/v1/types.proto";
import "cosmos_proto/cosmos.proto";

// Msg defines the module Msg service.
service Msg {
  option (cosmos.msg.v1.service) = true;

  rpc CreateCollateralToken(MsgCreateCollateralToken) returns (MsgCreateCollateralTokenResponse);

  rpc CreateSyntheticToken(MsgCreateSyntheticToken) returns (MsgCreateSyntheticTokenResponse);

  rpc RemoteTransfer(MsgRemoteTransfer) returns (MsgRemoteTransferResponse);
}

message MsgCreateCollateralToken {
  option (cosmos.msg.v1.signer) = "creator";
  option (amino.name) = "hyperlane/warp/MsgCreateCollateralToken";

  // sender is the message sender.
  string creator = 1 [ (cosmos_proto.scalar) = "cosmos.AddressString" ];

  string origin_mailbox = 2;
  string origin_denom = 3;

  uint32 receiver_domain = 4;
  string receiver_contract = 5;

  string ism_id = 6;
}

message MsgCreateCollateralTokenResponse {}

message MsgCreateSyntheticToken {
  option (cosmos.msg.v1.signer) = "creator";
  option (amino.name) = "hyperlane/warp/MsgCreateSyntheticToken";

  // sender is the message sender.
  string creator = 1 [ (cosmos_proto.scalar) = "cosmos.AddressString" ];

  string origin_mailbox = 2;

  uint32 receiver_domain = 3;
  string receiver_contract = 4;

  string ism_id = 5;
}

message MsgCreateSyntheticTokenResponse {}

message MsgRemoteTransfer {
  option (cosmos.msg.v1.signer) = "sender";
  option (amino.name) = "hyperlane/warp/MsgRemoteTransfer";

  string sender = 1 [ (cosmos_proto.scalar) = "cosmos.AddressString" ];
  string token_id = 2;
  string recipient = 3;
  string amount = 4 [
    (cosmos_proto.scalar)  = "cosmos.Int",
    (gogoproto.customtype) = "cosmossdk.io/math.Int",
    (gogoproto.nullable)   = false,
    (amino.dont_omitempty) = true
  ];
}

message MsgRemoteTransferResponse {
  string message_id = 1;
}
